{"version":3,"sources":["components/productIntro/ProductIntro.module.css","components/ProductCollection/ProductCollection.module.css","components/filter/FilterArea.module.css","pages/search/searchpage.module.css","pages/shoppingCart/ShoppingCart.module.css","App.module.css","components/sidemenu/SideMenu.module.css","components/carousel/Carousel.module.css","components/paymentForm/PaymentForm.module.css","layouts/mainLayout/MainLayout.module.css","pages/register/RegisterForm.module.css","pages/signIn/SignInForm.module.css","assets/logo.svg","redux/language/languageAction.ts","redux/hooks.ts","redux/user/slice.ts","components/header/Header.tsx","components/footer/Footer.tsx","components/sidemenu/mockdata.ts","components/sidemenu/SideMenu.tsx","assets/images/carousel_1.jpg","assets/images/carousel_2.jpg","assets/images/carousel_3.jpg","components/carousel/Carousel.tsx","components/ProductCollection/ProductImage.tsx","components/ProductCollection/ProductCollection.tsx","components/productIntro/ProductIntro.tsx","components/productcomments/ProductComments.tsx","components/filter/FilterTag.tsx","components/filter/Filter.tsx","components/filter/FilterArea.tsx","components/productList/ProductList.tsx","components/paymentCard/PaymentCard.tsx","components/checkOutCard/CheckOutCard.tsx","components/paymentForm/PaymentForm.tsx","assets/images/sider_2019_12-09.png","assets/images/sider_2019_02-04.png","assets/images/sider_2019_02-04-2.png","redux/recommendProduct/recommendProductAction.ts","layouts/mainLayout/MainLayout.tsx","pages/hompage/Homepage.tsx","pages/detail/mockup.ts","redux/productdetail/slice.ts","redux/shoppingCart/slice.ts","pages/detail/Detailpage.tsx","layouts/userLayout/UserLayout.tsx","pages/register/RegisterForm.tsx","pages/register/Register.tsx","pages/signIn/SignInForm.tsx","pages/signIn/SignIn.tsx","redux/productSearch/slice.ts","pages/search/searchpage.tsx","pages/shoppingCart/ShoppingCart.tsx","redux/order/slice.ts","pages/placeOrder/PlaceOrder.tsx","App.tsx","i18n/configs.ts","redux/language/languageReducer.ts","redux/recommendProduct/recommendProductReducer.ts","redux/middlewares/actionlog.ts","redux/store.ts","index.tsx","pages/detail/Detailpage.module.css","components/header/Header.module.css","layouts/userLayout/UserLayout.module.css"],"names":["module","exports","CHANGE_LANGUAGE","useSelector","useReduxSelector","signIn","createAsyncThunk","parmeters","a","axios","post","data","token","user","createSlice","name","initialState","loading","error","reducers","signOut","state","extraReducers","pending","type","action","fulfilled","console","log","payload","rejected","message","Header","history","useHistory","dispatch","useDispatch","t","useTranslation","language","languageList","jwt","s","useState","username","setUsername","shoppingCartItems","shoppingCart","items","shoppingCartLoading","useEffect","jwt_decode","className","style","inner","Text","Button","marginLeft","icon","GlobalOutlined","overlay","onClick","e","key","map","lan","Item","code","Group","strong","push","length","actions","src","logo","alt","Title","level","title","Search","placeholder","onSearch","keywords","mode","Footer","textAlign","sideMenuList","subMenu","SideMenu","menu","index","SubMenu","submenu","sindex","ssmenu","ssindex","Carousel","autoplay","slider","carousel_1","carousel_2","carousel_3","ProductImage","withRouter","id","size","imageSrc","price","location","match","to","height","width","slice","ProductCollection","sideImage","products","content","orientation","span","touristRoutePictures","url","columns","dataIndex","align","ProductIntro","shortDescription","coupons","discount","rating","pictures","tableDataSource","description","delete","allowHalf","defaultValue","styles","slidesToShow","p","dataSource","bordered","pagination","showHeader","ProductComments","renderItem","item","author","avatar","datetime","createDate","CheckableTag","Tag","FilterTag","props","checked","setChecked","onChange","Typography","Filter","tags","marginRight","fontSize","fontWeight","FilterArea","dashed","ProductList","paging","onPageChange","departureCity","color","travelDays","discountPresent","tripType","imgSrc","originalPrice","itemLayout","current","currentPage","page","pageSize","total","totalCount","footer","extra","Meta","Card","PaymentCard","onShoppingCartClear","onCheckout","paymentData","amount","marginTop","danger","CheckCircleOutlined","DeleteOutlined","active","CheckOutCard","order","orderItems","i","touristRoute","HomeOutlined","PaymentForm","cvc","expiry","focus","undefined","number","handleInputFocus","setState","target","handleInputChange","value","this","focused","onFocus","React","Component","FETCH_RECOMMEND_PRODUCT_START","FETCH_RECOMMEND_PRODUCT_SUCCESS","FETCH_RECOMMEND_PRODUCT_FAIL","fetchRecommendProductSuccessActionCreator","MainLayout","children","Homepage","productList","recommendProduct","isLoading","getRecommendProduct","getState","get","marginBottom","touristRoutes","sideImage2","sideImage3","commentMockData","getProductDetail","touristRouteId","thunkAPI","productDetail","product","getShoppingCart","headers","Authorization","addShoppingCart","parameters","checkout","clearShoppingCart","itemIds","join","RangePicker","DatePicker","DetailPage","useParams","points","display","ShoppingCartOutlined","Link","href","dangerouslySetInnerHTML","__html","features","margin","fees","notes","Layout","Content","UserLayout","CaretDownOutlined","RegisterForm","layout","initialValues","remember","onFinish","values","onFinishFailed","errorInfo","label","rules","required","Password","getFieldValue","validator","role","Promise","resolve","reject","valuePropName","htmlType","Register","SignInForm","email","password","SignIn","getProductSearch","pageNumber","response","JSON","parse","productSearch","SearchPage","useLocation","ShoppingCart","reduce","b","placeOrder","params","orderId","currentOrder","PlaceOrder","PrivatRoute","component","Authenticated","rest","render","createElement","pathname","App","exact","path","resources","en","translation","zh","i18n","use","initReactI18next","init","lng","interpolation","escapeValue","languageState","languageReducer","changeLanguage","defaultState","recommendProductReducer","actionLog","store","next","persistConfig","storage","whitelist","rootReducer","combineReducers","reducer","persistedReducer","persistReducer","configureStore","middleware","getDefaultMiddleware","persistor","persistStore","ReactDOM","StrictMode","rootStore","document","getElementById"],"mappings":"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","file":"static/js/main.3e98d722.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"intro-container\":\"ProductIntro_intro-container__QH2fQ\",\"intro-detail-content\":\"ProductIntro_intro-detail-content__1PSaz\",\"intro-detail-strong-text\":\"ProductIntro_intro-detail-strong-text__2Kszo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProductCollection_content__1aKDo\",\"side-image\":\"ProductCollection_side-image__16ZPx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter-divider\":\"FilterArea_filter-divider__1VKcE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page-content\":\"searchpage_page-content__2vrI5\",\"product-list-container\":\"searchpage_product-list-container__2nKAu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product-list-container\":\"ShoppingCart_product-list-container__1cAcP\",\"payment-card-container\":\"ShoppingCart_payment-card-container__3phY1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"side-menu\":\"SideMenu_side-menu__1Revr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Carousel_slider__2aVPa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"payment-form\":\"PaymentForm_payment-form__1rKlp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page-content\":\"MainLayout_page-content__MRoWs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register-form\":\"RegisterForm_register-form__1fZ5c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register-form\":\"SignInForm_register-form__12s7z\"};","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","\nexport const CHANGE_LANGUAGE = \"change_language\";\n\nexport interface ChangeLanguageAction {\n    type: string;\n    payload: string\n}\n\nexport const changeLanguageActionCreator = (key: string): ChangeLanguageAction => {\n    return { type: CHANGE_LANGUAGE, payload: key }\n}","import { useSelector as useReduxSelector, TypedUseSelectorHook } from 'react-redux';\nimport { RootState } from './store';\n\n//typeselectorhook 原生的\n// rootState是返回\nexport const useSelector: TypedUseSelectorHook<RootState> = useReduxSelector;","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\n\ninterface UserState {\n    loading: boolean,\n    token: string | null,\n    error: string | null\n}\n\nconst initialState: UserState = {\n    loading: false,\n    token: null,\n    error: null\n}\n\n\nexport const signIn = createAsyncThunk(\n    'user/signIn',\n    async (parmeters: { email: string, password: string }) => {\n        const { data } = await axios.post('http://123.56.149.216:8089/auth/login', { ...parmeters })\n        return data.token\n    }\n)\n\nexport const user = createSlice({\n    name: 'user',\n    initialState,\n    reducers: {\n        signOut: (state) => {\n            state.error = null;\n            state.loading = false;\n            state.token = null;\n        }\n    },\n    extraReducers: {\n        [signIn.pending.type]: (state, action) => {\n            state.loading = true\n        },\n        [signIn.fulfilled.type]: (state, action) => {\n            console.log(action);\n            state.token = action.payload;\n            state.error = null;\n            state.loading = false;\n        },\n        [signIn.rejected.type]:\n            (state, action) => {\n                state.error = action.error.message\n                state.loading = false\n            }\n    }\n})","import { GlobalOutlined } from \"@ant-design/icons\"\nimport logo from '../../assets/logo.svg';\nimport { Typography, Dropdown, Menu, Button, Layout, Input } from \"antd\"\nimport style from './Header.module.css';\nimport { useHistory } from 'react-router-dom';\nimport React, { useEffect, useState } from \"react\";\n\nimport { useTranslation } from 'react-i18next';\nimport { changeLanguageActionCreator } from \"../../redux/language/languageAction\";\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from '../../redux/hooks'; //\nimport jwt_decode, { JwtPayload as defaultJwtPayload } from 'jwt-decode';\nimport { user } from \"../../redux/user/slice\";\n\n\ninterface JwtPayload extends defaultJwtPayload {\n    // 這樣才能拿到自訂型別\n    username: string;\n}\n\nexport const Header: React.FC = () => {\n    const history = useHistory(); // router\n    const dispatch = useDispatch();// dispatch action\n    const { t } = useTranslation(); // i18n\n    /** i18 start */\n    const language = useSelector(state => state.language.language); // store get language\n    const languageList = useSelector(state => state.language.languageList);\n    /** i18 end */\n\n    const jwt = useSelector(s => s.user.token);\n    const [username, setUsername] = useState('');\n\n    const shoppingCartItems = useSelector(s=>s.shoppingCart.items);\n    const shoppingCartLoading = useSelector(s=>s.shoppingCart.loading);\n\n    const handleLanguage = (e: any) => {\n        const action = changeLanguageActionCreator(e.key);\n        dispatch(action);\n\n    }\n\n    const onLogout = () => {\n        dispatch(user.actions.signOut());\n    }\n\n    useEffect(() => {\n        if (jwt) {\n            const token = jwt_decode<JwtPayload>(jwt);\n            setUsername(token.username);\n        }\n    }, [jwt])\n\n    return (<div className={style['app-header']}>\n        <div className={style['top-header']}>\n            <div className={style.inner}>\n                <Typography.Text>{t('header.slogan')}</Typography.Text>\n                <Dropdown.Button style={{ marginLeft: 15 }} icon={<GlobalOutlined />} overlay={<Menu onClick={handleLanguage}>\n                    {languageList.map(lan => <Menu.Item key={lan.code}>{lan.name}</Menu.Item>)}\n                </Menu>}>\n                    {language}\n                </Dropdown.Button>\n                {jwt ? \n                    // 登入狀態顯示\n                    <Button.Group className={style[\"button-group\"]}>\n                        <span>\n                            {t(\"header.welcome\")}\n                            <Typography.Text strong>{username}</Typography.Text>\n                        </span>\n                        <Button onClick={()=>history.push('/shoppingCart')}loading={shoppingCartLoading}>{t(\"header.shoppingCart\")}{shoppingCartItems.length}</Button>\n                        <Button onClick={onLogout}>{t(\"header.signOut\")}</Button>\n                    </Button.Group>\n                 : \n                    // 未登入狀態顯示\n                    <Button.Group className={style[\"button-group\"]}>\n                        <Button onClick={() => history.push(\"/register\")}>\n                            {t(\"header.register\")}\n                        </Button>\n                        <Button onClick={() => history.push(\"/signIn\")}>\n                            {t(\"header.signin\")}\n                        </Button>\n                    </Button.Group>\n                }\n            </div>\n        </div>\n        <Layout.Header className={style['main-header']}>\n            <span onClick={() => history.push('/')}>\n                <img src={logo} alt=\"\" className={style['App-logo']} />\n                <Typography.Title level={3} className={style.title}>旅遊網</Typography.Title>\n            </span>\n            <Input.Search placeholder=\"請輸入旅遊目的地\" className={style['search-input']}\n                onSearch={(keywords) => history.push(`/search/${keywords}`)}></Input.Search>\n        </Layout.Header>\n\n        <Menu mode={\"horizontal\"} className={style[\"main-menu\"]}>\n            <Menu.Item key=\"1\"> {t(\"header.home_page\")} </Menu.Item>\n            <Menu.Item key=\"2\"> {t(\"header.weekend\")} </Menu.Item>\n            <Menu.Item key=\"3\"> {t(\"header.group\")} </Menu.Item>\n            <Menu.Item key=\"4\"> {t(\"header.backpack\")} </Menu.Item>\n            <Menu.Item key=\"5\"> {t(\"header.private\")} </Menu.Item>\n            <Menu.Item key=\"6\"> {t(\"header.cruise\")} </Menu.Item>\n            <Menu.Item key=\"7\"> {t(\"header.hotel\")} </Menu.Item>\n            <Menu.Item key=\"8\"> {t(\"header.local\")} </Menu.Item>\n            <Menu.Item key=\"9\"> {t(\"header.theme\")} </Menu.Item>\n            <Menu.Item key=\"10\"> {t(\"header.custom\")} </Menu.Item>\n            <Menu.Item key=\"11\"> {t(\"header.study\")} </Menu.Item>\n            <Menu.Item key=\"12\"> {t(\"header.visa\")} </Menu.Item>\n            <Menu.Item key=\"13\"> {t(\"header.enterprise\")} </Menu.Item>\n            <Menu.Item key=\"14\"> {t(\"header.high_end\")} </Menu.Item>\n            <Menu.Item key=\"15\"> {t(\"header.outdoor\")} </Menu.Item>\n            <Menu.Item key=\"16\"> {t(\"header.insurance\")} </Menu.Item>\n        </Menu>\n    </div>)\n\n\n}\n","import { Layout, Typography } from \"antd\";\nimport React from \"react\";\nimport { useTranslation } from 'react-i18next'\n\nexport const Footer: React.FC = () => {\n    const {t} = useTranslation();\n    return (<Layout.Footer>\n        <Typography.Title level={3} style={{ textAlign: 'center' }}>\n            {t('footer.detail')}\n        </Typography.Title>\n    </Layout.Footer>)\n}","export const sideMenuList = [\n    {\n        title: \"主题旅游\",\n        subMenu: [\n            {\n                title: \"爸妈游\",\n                subMenu: [\"祈福拜佛\", \"古镇游玩\", \"桂林山水\", \"红色之旅\"],\n            },\n            {\n                title: \"亲子游\",\n                subMenu: [\"上海迪士尼\", \"探险体验\", \"海洋公园\", \"感受名校\"],\n            },\n            {\n                title: \"蜜月游\",\n                subMenu: [\"浪漫海岛\", \"豪华酒店\", \"购物血拼\", \"全球婚礼\"],\n            },\n        ],\n    },\n    {\n        title: \"周边游\",\n        subMenu: [\n            {\n                title: \"周边目的地\",\n                subMenu: [\"杭州\", \"南京\", \"苏州\", \"黄山\"],\n            },\n            {\n                title: \"热门景点\",\n                subMenu: [\"普陀山\", \"千岛湖\", \"乌镇古镇\", \"宏村\"],\n            },\n        ],\n    },\n    {\n        title: \"国内游\",\n        subMenu: [\n            {\n                title: \"广东\",\n                subMenu: [\"广州\", \"深圳\", \"珠海\", \"惠州\"],\n            },\n            {\n                title: \"浙江\",\n                subMenu: [\"杭州\", \"普陀山\", \"千岛湖\", \"宁波\"],\n            },\n            {\n                title: \"江苏\",\n                subMenu: [\"舟山\", \"乌镇\", \"干山\", \"湖州\"],\n            },\n        ],\n    },\n    {\n        title: \"东南亚\",\n        subMenu: [\n            {\n                title: \"热门目的地\",\n                subMenu: [\"新加坡\", \"巴厘岛\", \"越南\", \"柬埔寨\"],\n            },\n            {\n                title: \"热门景点\",\n                subMenu: [\"下龙湾\", \"吴哥窟\", \"西哈努克\", \"槟城珍珠岛\"],\n            },\n        ],\n    },\n    {\n        title: \"欧洲\",\n        subMenu: [\n            {\n                title: \"热门邮轮航线\",\n                subMenu: [\"欧洲河轮\", \"北欧邮轮\", \"爱琴海邮轮\", \"英伦三岛\"],\n            },\n            {\n                title: \"热门景点\",\n                subMenu: [\"贝加尔湖\", \"普罗旺斯\", \"阿尔卑斯\", \"圣托里尼岛\"],\n            },\n            {\n                title: \"蜜月游\",\n                subMenu: [\"极光中心\", \"俄罗斯远东地区\", \"英格兰少女峰\", \"玻璃海滩\"],\n            },\n        ],\n    },\n];\n\n/**\n * 首页推荐产品数据\n * */\n// 爆款推荐\nexport const productList1 = [\n    {\n        id: 1,\n        title:\n            \"埃及阿斯旺+卢克索+红海Red Sea+开罗+亚历山大12日跟团游(5钻)·【官方旗舰明星纯玩团】25人封顶|含签证小费全程餐|3晚尼罗河游轮+3晚红海全包度假村+1晚底比斯古都|升级内陆飞机|优质中文导游队伍|七大神庙+赠项目\",\n        price: \"11990\",\n    },\n    {\n        id: 2,\n        title: \"摩洛哥撒哈拉沙漠+卡萨布兰卡+马拉喀什+舍夫沙...\",\n        price: \"13290\",\n    },\n    {\n        id: 3,\n        title: \"越南胡志明市+美奈+芽庄+河内7日6晚跟团游(4钻)...\",\n        price: \"4000\",\n    },\n    {\n        id: 4,\n        title: \"迪拜+阿布扎比6日跟团游(5钻)·【携程国旅纯玩...\",\n        price: \"7399\",\n    },\n    {\n        id: 5,\n        title: \"泰国曼谷+芭堤雅6日5晚跟团游(5钻)·【纯玩】『可...\",\n        price: \"3499\",\n    },\n    {\n        id: 6,\n        title: \"日本大阪+京都+箱根+东京6日5晚跟团游(4钻)·【浪...\",\n        price: \"5999\",\n    },\n    {\n        id: 7,\n        title: \"新加坡+马来西亚6日5晚跟团游(5钻)·【纯玩无购物...\",\n        price: \"6199\",\n    },\n    {\n        id: 8,\n        title: \"法国+德国+意大利+瑞士12日跟团游(4钻)·【匠心定...\",\n        price: \"13699\",\n    },\n    {\n        id: 9,\n        title: \"印度尼西亚巴厘岛7日5晚私家团(5钻)·A线独栋泳...\",\n        price: \"5021\",\n    },\n];\n","\nimport { Menu } from 'antd';\nimport { sideMenuList } from './mockdata';\nimport style from './SideMenu.module.css';\nexport const SideMenu: React.FC = () => {\n    return (<Menu mode='vertical' className={style['side-menu']}>\n        {sideMenuList.map((menu, index) =>\n            <Menu.SubMenu key={`side-menu-${index}`} title={menu.title}>\n                {menu.subMenu.map((submenu, sindex) =>\n                    <Menu.SubMenu key={`sub-menu-${sindex}`} title={submenu.title}>\n                        {submenu.subMenu.map((ssmenu, ssindex) =>\n                            <Menu.Item key={`sub-sub-menu-${ssindex}`} >\n                                <span>{ssmenu}</span>\n                            </Menu.Item>\n                        )}\n                    </Menu.SubMenu>\n                )}\n            </Menu.SubMenu>\n        )}\n    </Menu>);\n}","export default __webpack_public_path__ + \"static/media/carousel_1.8a3dd591.jpg\";","export default __webpack_public_path__ + \"static/media/carousel_2.b79314aa.jpg\";","export default __webpack_public_path__ + \"static/media/carousel_3.39c09c71.jpg\";","import { Image, Carousel as AntdCarousel } from 'antd';\nimport React from 'react';\nimport carousel_1 from '../../assets/images/carousel_1.jpg';\nimport carousel_2 from '../../assets/images/carousel_2.jpg';\nimport carousel_3 from '../../assets/images/carousel_3.jpg';\nimport style from './Carousel.module.css';\n\nexport const Carousel: React.FC = () => {\n    return (<AntdCarousel autoplay className={style.slider}>\n        <Image src={carousel_1}></Image>\n        <Image src={carousel_2}></Image>\n        <Image src={carousel_3}></Image>\n    </AntdCarousel>)\n}","import React from \"react\";\nimport { Image, Typography } from \"antd\";\nimport { withRouter, RouteComponentProps, Link } from 'react-router-dom';\n\ninterface PropsType extends RouteComponentProps {\n    id: string | number;\n    size: \"large\" | \"small\";\n    imageSrc: string;\n    price: number | string;\n    title: string;\n}\n\nconst ProductImageComp: React.FC<PropsType> = ({ id, size, imageSrc, price, title, history, location, match }) => {\n    return (\n        <Link to={`detail/${id}`}>\n            {size === \"large\" ? (\n                <Image src={imageSrc} height={285} width={490} />\n            ) : (\n                <Image src={imageSrc} height={120} width={240} />\n            )}\n            <div>\n                <Typography.Text type=\"secondary\">\n                    {title.slice(0, 25)}\n                </Typography.Text>\n                <Typography.Text type=\"danger\" strong>\n                    NT {price} 起\n                </Typography.Text>\n            </div>\n        </Link>\n    );\n}\n\nexport const ProductImage = withRouter(ProductImageComp)","import React from \"react\";\nimport style from \"./ProductCollection.module.css\";\nimport { Row, Col, Typography, Divider } from \"antd\";\nimport { ProductImage } from \"./ProductImage\";\n\ninterface PropsType {\n    title: string;\n    sideImage: string;\n    products: any[];\n}\n\nexport const ProductCollection: React.FC<PropsType> = ({ title, sideImage, products }) => {\n    return (\n        <div className={style.content}>\n            <Divider orientation=\"left\"><Typography.Title level={3} type={'warning'}>{title}</Typography.Title> </Divider>\n            <Row>\n                <Col span={4}>\n                    <img src={sideImage} className={style[\"side-image\"]} alt=\"\" />\n                </Col>\n                <Col span={20}>\n                    <Row>\n                        <Col span={12}>\n                            <ProductImage\n                                id={products[0].id}\n                                size={\"large\"}\n                                title={products[0].title}\n                                imageSrc={products[0].touristRoutePictures[0].url}\n                                price={products[0].price}\n                            />\n                        </Col>\n                        <Col span={12}>\n                            <Row>\n                                <Col span={12}>\n                                    <ProductImage\n                                        id={products[1].id}\n                                        size=\"small\"\n                                        title={products[1].title}\n                                        imageSrc={products[1].touristRoutePictures[0].url}\n                                        price={products[1].price}\n                                    />\n                                </Col>\n                                <Col span={12}>\n                                    <ProductImage\n                                        id={products[2].id}\n                                        size=\"small\"\n                                        title={products[2].title}\n                                        imageSrc={products[2].touristRoutePictures[0].url}\n                                        price={products[2].price}\n                                    />\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col span={12}>\n                                    <ProductImage\n                                        id={products[3].id}\n                                        size=\"small\"\n                                        title={products[3].title}\n                                        imageSrc={products[3].touristRoutePictures[0].url}\n                                        price={products[3].price}\n                                    />\n                                </Col>\n                                <Col span={12}>\n                                    <ProductImage\n                                        id={products[4].id}\n                                        size=\"small\"\n                                        title={products[4].title}\n                                        imageSrc={products[4].touristRoutePictures[0].url}\n                                        price={products[4].price}\n                                    />\n                                </Col>\n                            </Row>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col span={6}>\n                            <ProductImage\n                                id={products[5].id}\n                                size=\"small\"\n                                title={products[5].title}\n                                imageSrc={products[5].touristRoutePictures[0].url}\n                                price={products[5].price}\n                            />\n                        </Col>\n                        <Col span={6}>\n                            <ProductImage\n                                id={products[6].id}\n                                size=\"small\"\n                                title={products[6].title}\n                                imageSrc={products[6].touristRoutePictures[0].url}\n                                price={products[6].price}\n                            />\n                        </Col>\n                        <Col span={6}>\n                            <ProductImage\n                                id={products[7].id}\n                                size=\"small\"\n                                title={products[7].title}\n                                imageSrc={products[7].touristRoutePictures[0].url}\n                                price={products[7].price}\n                            />\n                        </Col>\n                        <Col span={6}>\n                            <ProductImage\n                                id={products[8].id}\n                                size=\"small\"\n                                title={products[8].title}\n                                imageSrc={products[8].touristRoutePictures[0].url}\n                                price={products[8].price}\n                            />\n                        </Col>\n                    </Row>\n                </Col>\n            </Row>\n        </div>\n    );\n}","import { Typography, Carousel, Table, Image, Rate } from \"antd\";\nimport { ColumnsType } from \"antd/lib/table/interface\";\nimport styles from './ProductIntro.module.css';\n\n// 旅遊資料\ninterface PropsType {\n    title: string;\n    shortDescription: string;\n    price: string | number;\n    coupons: string;\n    points: string;\n    discount: string;\n    rating: string | number;\n    pictures: string[];\n}\n\n// 欄位名稱\nconst columns: ColumnsType<RowType> = [\n    {\n        title: \"主題\",\n        dataIndex: \"title\",\n        key: \"title\",\n        align: \"left\",\n        width: 120,\n    },\n    {\n        title: \"描述\",\n        dataIndex: \"description\",\n        key: \"description\",\n        align: \"center\",\n    },\n];\n\n// 資料\ninterface RowType {\n    title: string;\n    description: string | number | JSX.Element;\n    key: number;\n}\n\n\nexport const ProductIntro: React.FC<PropsType> = ({\n    title,\n    shortDescription,\n    price,\n    coupons,\n    discount,\n    rating,\n    pictures,\n}) => {\n\n    const tableDataSource: RowType[] = [\n        {\n            key: 0,\n            title: \"路线名称\",\n            description: title,\n        },\n        {\n            key: 1,\n            title: \"价格\",\n            description: (\n                <>\n                    ¥{\" \"}\n                    <Typography.Text type=\"danger\" strong>\n                        {price}\n                    </Typography.Text>\n                </>\n            ),\n        },\n        {\n            key: 2,\n            title: \"限时抢购折扣\",\n            description: discount ? (\n                <>\n                    ¥ <Typography.Text delete>{price}</Typography.Text>{\" \"}\n                    <Typography.Text type=\"danger\" strong>\n                        ¥ {discount}\n                    </Typography.Text>\n                </>\n            ) : (\n                \"暂无折扣\"\n            ),\n        },\n        {\n            key: 2,\n            title: \"领取优惠\",\n            description: coupons ? discount : \"无优惠券可领\",\n        },\n        {\n            key: 2,\n            title: \"线路评价\",\n            description: (\n                <>\n                    <Rate allowHalf defaultValue={+rating} />\n                    <Typography.Text style={{ marginLeft: 10 }}>\n                        {rating} 星\n                    </Typography.Text>\n                </>\n            ),\n        },\n    ];\n    return (<div className={styles[\"intro-container\"]}>\n        <Typography.Title level={4}>{title}</Typography.Title>\n        <Typography.Text>{shortDescription}</Typography.Text>\n        <div className={styles[\"intro-detail-content\"]}>\n            <Typography.Text style={{ marginLeft: 20 }}>\n                ¥ <span className={styles[\"intro-detail-strong-text\"]}>{price}</span>{\" \"}\n                /人起\n            </Typography.Text>\n            <Typography.Text style={{ marginLeft: 50 }}>\n                <span className={styles[\"intro-detail-strong-text\"]}>{rating}</span>{\" \"}\n                分\n            </Typography.Text>\n        </div>\n        <Carousel autoplay slidesToShow={3}>\n            {pictures.map((p) => (\n                <Image height={150} src={p} />\n            ))}\n        </Carousel>\n        <Table\n            columns={columns}\n            dataSource={tableDataSource}\n            size=\"small\"\n            bordered={false}\n            pagination={false}\n            showHeader={false}\n        />\n    </div>)\n}","import { Comment, List } from 'antd';\n\ninterface PropsType {\n    data: {\n        author: string;\n        avatar: string;\n        content: string;\n        createDate: string;\n    }[];\n}\n\n\n\nexport const ProductComments: React.FC<PropsType> = ({ data }) => {\n    return (<List dataSource={data} renderItem={item => (<li><Comment author={item.author}\n        avatar={item.avatar}\n        content={item.content}\n        datetime={item.createDate}\n    >\n    </Comment></li>)\n\n    }>\n\n    </List>)\n}","import React, { useState } from \"react\";\nimport { Tag } from \"antd\";\nconst { CheckableTag } = Tag;\n\ninterface PropsType {\n  onSelect?: () => void;\n}\n\nexport const FilterTag: React.FC<PropsType> = (props) => {\n  const [checked, setChecked] = useState(false);\n\n  const handleChange = (checked:any) => {\n    setChecked(checked);\n  };\n\n  return <CheckableTag {...props} checked={checked} onChange={handleChange} />;\n};\n","import React, { Fragment } from \"react\";\nimport { FilterTag } from \"./FilterTag\";\nimport { Typography, Divider } from \"antd\";\nconst { Text } = Typography;\n\ninterface PropsType {\n  title: string;\n  tags: string[];\n}\n\nexport const Filter: React.FC<PropsType> = ({ title, tags }) => {\n  return (\n    <div>\n      <Text style={{ marginRight: 40, fontSize: 15, fontWeight: 500 }}>\n        {title} :{\" \"}\n      </Text>\n      {tags.map((t, index) => {\n        if (index === tags.length - 1)\n          return <FilterTag key={`filter${index}`}>{t}</FilterTag>;\n        return (\n          <span key={`filter${index}`}>\n            <FilterTag>{t}</FilterTag>\n            <Divider type=\"vertical\" />\n          </span>\n        );\n      })}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Divider } from \"antd\";\nimport { Filter } from \"./Filter\";\nimport styles from \"./FilterArea.module.css\";\n\nexport const FilterArea: React.FC = () => {\n  return (\n    <>\n      <Filter title=\"路线评价\" tags={[\"1星\", \"2星\", \"3星\", \"4星\", \"5星\"]} />\n      <Divider dashed className={styles[\"filter-divider\"]} />\n      <Filter title=\"出发城市\" tags={[\"北京\", \"上海\", \"广州\", \"深圳\"]} />\n      <Divider dashed className={styles[\"filter-divider\"]} />\n      <Filter title=\"行程天数\" tags={[\"2日\", \"3日\", \"4日\", \"5日\", \"6日\"]} />\n      <Divider dashed />\n      <Filter\n        title=\"旅程类型\"\n        tags={[\"跟团游\", \"自由行\", \"自驾游\", \"高端定制\"]}\n      />\n      <Divider dashed />\n      <Filter title=\"出发时间\" tags={[\"春节\", \"清明\", \"劳动节\"]} />\n    </>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { List, Rate, Space, Image, Tag, Typography } from \"antd\";\nimport { MessageOutlined, LikeOutlined, StarOutlined } from \"@ant-design/icons\";\n\nconst { Text } = Typography;\n\ninterface Product {\n  departureCity: string;\n  description: string;\n  discountPresent: number;\n  id: string;\n  originalPrice: number;\n  price: number;\n  rating: number;\n  title: string;\n  touristRoutePictures: any[];\n  travelDays: string;\n  tripType: string;\n}\ninterface PropsType {\n  data: Product[];\n  paging?: any;\n  onPageChange?: (nextPage: any, pageSize: any) => void;\n}\n\nconst listData = (productList: Product[]) =>\n  productList.map((p) => ({\n    id: p.id,\n    title: p.title,\n    description: p.description,\n    tags: (\n      <>\n        {p.departureCity && <Tag color=\"#f50\">{p.departureCity}出发</Tag>}\n        {p.travelDays && <Tag color=\"#108ee9\">{p.travelDays} 天 </Tag>}\n        {p.discountPresent && <Tag color=\"#87d068\">超低折扣</Tag>}\n        {p.tripType && <Tag color=\"#2db7f5\">{p.tripType}</Tag>}\n      </>\n    ),\n    imgSrc: p.touristRoutePictures[0].url,\n    price: p.price,\n    originalPrice: p.originalPrice,\n    discountPresent: p.discountPresent,\n    rating: p.rating,\n  }));\n\n// const IconText = ( icon:any, text:any ) => (\n//   <Space>\n//     {React.createElement(icon)}\n//     {text}\n//   </Space>\n// );\n\nexport const ProductList: React.FC<PropsType> = ({\n  data,\n  paging,\n  onPageChange,\n}) => {\n  const products = listData(data);\n  return (\n    <List\n      itemLayout=\"vertical\"\n      size=\"large\"\n      pagination=\n      {paging ?\n        {\n          current: paging.currentPage,\n          onChange: (page) => onPageChange && onPageChange(page, paging.pageSize),\n          pageSize: paging.pageSize,\n          total: paging.totalCount,\n        } : false}\n      dataSource={products}\n      footer={paging &&\n        <div>\n          搜索總路線: <Text strong>{paging.totalCount}</Text> 條\n        </div>\n      }\n      renderItem={(item) => (\n        <List.Item\n          key={item.title}\n          actions={[\n            <>\n              <Rate defaultValue={item.rating} />\n              <Text strong className=\"ant-rate-text\">\n                {item.rating}\n              </Text>\n            </>,\n          ]}\n          extra={\n            <Image width={272} height={172} alt=\"image\" src={item.imgSrc} />\n          }\n        >\n          <List.Item.Meta\n            title={\n              <>\n                {item.discountPresent ? (\n                  <>\n                    <Text style={{ fontSize: 20, fontWeight: 400 }} delete>\n                      ¥ {item.originalPrice}\n                    </Text>\n                    <Text\n                      type=\"danger\"\n                      style={{ fontSize: 20, fontWeight: 400 }}\n                    >\n                      {\" \"}\n                      ¥ {item.price}\n                    </Text>\n                  </>\n                ) : (\n                  <Text style={{ fontSize: 20, fontWeight: 400 }}>\n                    ¥ {item.price}\n                  </Text>\n                )}\n                <Link to={\"/detail/\" + item.id}> {item.title}</Link>\n              </>\n            }\n            description={item.tags}\n          />\n          {item.description}\n        </List.Item>\n      )}\n    />\n  );\n};\n","import React, { useEffect } from \"react\";\nimport {\n  Skeleton,\n  Switch,\n  Card,\n  Avatar,\n  Button,\n  Typography,\n  Space,\n  Tag,\n  Table,\n} from \"antd\";\nimport { DeleteOutlined, CheckCircleOutlined } from \"@ant-design/icons\";\nimport { ColumnsType } from \"antd/es/table\";\n\nconst { Meta } = Card;\nconst { Title, Text } = Typography;\n\ninterface Item {\n  key: number;\n  item: string;\n  amount: string | number | JSX.Element;\n}\n\nconst columns: ColumnsType<Item> = [\n  {\n    title: \"项目\",\n    dataIndex: \"item\",\n    key: \"item\",\n  },\n  {\n    title: \"金额\",\n    dataIndex: \"amount\",\n    key: \"amount\",\n  },\n];\n\ninterface PropsType {\n  loading: boolean;\n  originalPrice: number;\n  price: number;\n  onShoppingCartClear: () => void;\n  onCheckout: () => void;\n}\n\nexport const PaymentCard: React.FC<PropsType> = ({\n  loading,\n  originalPrice,\n  price,\n  onShoppingCartClear,\n  onCheckout,\n}) => {\n  const paymentData: Item[] = [\n    {\n      key: 1,\n      item: \"原价\",\n      amount: <Text delete>¥ {originalPrice}</Text>,\n    },\n    {\n      key: 3,\n      item: \"现价\",\n      amount: (\n        <Title type=\"danger\" level={2}>\n          ¥ {price}\n        </Title>\n      ),\n    },\n  ];\n\n  return (\n    <Card\n      style={{ width: 300, marginTop: 16 }}\n      actions={[\n        <Button type=\"primary\" danger onClick={onCheckout} loading={loading}>\n          <CheckCircleOutlined />\n          下單支付\n        </Button>,\n        <Button onClick={onShoppingCartClear} loading={loading}>\n          <DeleteOutlined />\n          清空\n        </Button>,\n      ]}\n    >\n      <Skeleton loading={loading} active>\n        <Meta\n          title={<Title level={2}>总计</Title>}\n          description={\n            <Table<Item>\n              columns={columns}\n              dataSource={paymentData}\n              showHeader={false}\n              size=\"small\"\n              bordered={false}\n              pagination={false}\n            />\n          }\n        />\n      </Skeleton>\n    </Card>\n  );\n};\n","import React from \"react\";\nimport { Skeleton, Card, Button, Typography, Table } from \"antd\";\nimport { CheckCircleOutlined, HomeOutlined } from \"@ant-design/icons\";\nimport { ColumnsType } from \"antd/es/table\";\nimport { useHistory } from \"react-router-dom\";\n\nconst { Meta } = Card;\nconst { Title, Text } = Typography;\n\ninterface OrderItem {\n  key: number;\n  item: string;\n  amount: string | number | JSX.Element;\n}\n\nconst columns: ColumnsType<OrderItem> = [\n  {\n    title: \"产品\",\n    dataIndex: \"item\",\n    key: \"item\",\n  },\n  {\n    title: \"价格\",\n    dataIndex: \"amount\",\n    key: \"amount\",\n  },\n];\n\ninterface PropsType {\n  loading: boolean;\n  order: any;\n  onCheckout: () => void;\n}\n\nexport const CheckOutCard: React.FC<PropsType> = ({\n  loading,\n  order,\n  onCheckout,\n}) => {\n  const history = useHistory();\n\n  const paymentData: OrderItem[] = order\n    ? order.orderItems.map((i:any, index:any) => ({\n        key: index,\n        item: i.touristRoute.title,\n        amount: (\n            <>\n              <Text delete>¥ {i.originalPrice} </Text>{\" \"}\n              <Text type=\"danger\" strong>\n                ¥ {i.originalPrice * i.discountPresent}\n              </Text>\n            </>\n          ),\n      }))\n    : [];\n\n  return (\n    <Card\n      style={{ width: 600, marginTop: 50 }}\n      actions={[\n        order && order.state === \"Completed\" ? (\n          <Button\n            type=\"primary\"\n            onClick={() => {\n              history.push(\"/\");\n            }}\n            loading={loading}\n          >\n            <HomeOutlined />\n            回到首頁\n          </Button>\n        ) : (\n          <Button type=\"primary\" danger onClick={onCheckout} loading={loading}>\n            <CheckCircleOutlined />\n            支付\n          </Button>\n        ),\n      ]}\n    >\n      <Skeleton loading={loading} active>\n        <Meta\n          title={\n            <Title level={2}>\n              {order && order.state === \"Completed\" ? \"支付成功\" : \"总计\"}\n            </Title>\n          }\n          description={\n            <Table<OrderItem>\n              columns={columns}\n              dataSource={paymentData}\n              showHeader={false}\n              size=\"small\"\n              bordered={false}\n              pagination={false}\n            />\n          }\n        />\n      </Skeleton>\n    </Card>\n  );\n};\n","import React from \"react\";\nimport Cards from 'react-credit-cards';\nimport \"react-credit-cards/es/styles-compiled.css\";\nimport { Input } from \"antd\";\nimport styles from \"./PaymentForm.module.css\";\n\nexport class PaymentForm extends React.Component {\n  state = {\n    cvc: \"\",\n    expiry: \"\",\n    focus: undefined,\n    name: \"\",\n    number: \"\",\n  };\n\n  handleInputFocus = (e:any) => {\n    this.setState({ focus: e.target.name });\n  };\n\n  handleInputChange = (e:any) => {\n    const { name, value } = e.target;\n\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <div id=\"PaymentForm\" style={{marginTop: 50}}>\n        <Cards\n          cvc={this.state.cvc}\n          expiry={this.state.expiry}\n          focused={this.state.focus}\n          name={this.state.name}\n          number={this.state.number}\n        />\n        <form className={styles[\"payment-form\"]}>\n          <Input\n            type=\"tel\"\n            name=\"number\"\n            placeholder=\"Card Number\"\n            onChange={this.handleInputChange}\n            onFocus={this.handleInputFocus}\n          />\n        </form>\n      </div>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/sider_2019_12-09.d016ce66.png\";","export default __webpack_public_path__ + \"static/media/sider_2019_02-04.600e70c8.png\";","export default __webpack_public_path__ + \"static/media/sider_2019_02-04-2.e8593237.png\";","import { RootState } from './../store';\nimport { ThunkAction } from 'redux-thunk';\nimport axios from 'axios';\n\n\nexport const FETCH_RECOMMEND_PRODUCT_START = 'FETCH_RECOMMEND_PRODUCT_START';\nexport const FETCH_RECOMMEND_PRODUCT_SUCCESS = 'FETCH_RECOMMEND_PRODUCT_SUCCESS';\nexport const FETCH_RECOMMEND_PRODUCT_FAIL = 'FETCH_RECOMMEND_PRODUCT_FAIL';\ninterface fetchRecommendProductStart {\n    type: typeof FETCH_RECOMMEND_PRODUCT_START\n}\ninterface fetchRecommendProductSuccess {\n    type: typeof FETCH_RECOMMEND_PRODUCT_SUCCESS;\n    payload: any\n}\ninterface fetchRecommendProductFail {\n    type: typeof FETCH_RECOMMEND_PRODUCT_FAIL,\n    payload: any\n}\n// action 集合\nexport type recommendProductAction = fetchRecommendProductStart | fetchRecommendProductSuccess | fetchRecommendProductFail\n\nexport const fetchRecommendProductStartActionCreator = (): fetchRecommendProductStart => {\n    return {\n        type: FETCH_RECOMMEND_PRODUCT_START\n    }\n}\n\nexport const fetchRecommendProductSuccessActionCreator = (data: any): fetchRecommendProductSuccess => {\n    return {\n        type: FETCH_RECOMMEND_PRODUCT_SUCCESS,\n        payload: data\n    }\n}\n\nexport const fetchRecommendProductFailActionCreator = (error: any): fetchRecommendProductFail => {\n    return {\n        type: FETCH_RECOMMEND_PRODUCT_FAIL,\n        payload: error\n    }\n}\n\n// 函數, state, 額外參數, action\nexport const fetchRecommendProductCreator = (): ThunkAction<void, RootState, unknown, recommendProductAction> => async (dispatch, getState) => {\n    dispatch(fetchRecommendProductStartActionCreator());\n    try {\n        const { data } = await axios.get('http://123.56.149.216:8089/api/productCollections');\n        const action = fetchRecommendProductSuccessActionCreator(data)\n        dispatch(action);\n    } catch (error) {\n        const action = fetchRecommendProductFailActionCreator(error);\n        dispatch(action);\n    }\n}\n\n","import React from \"react\";\nimport styles from './MainLayout.module.css';\nimport { Header, Footer } from '../../components';\n\nexport const MainLayout: React.FC = ({ children }) => (\n    <>\n    <Header/>\n    {/* 頁面內容 */}\n    <div className={styles['page-content']}>\n        {children}\n    </div>\n    <Footer/>\n    </>\n)","import { Row, Col, Spin } from \"antd\";\nimport React, { useEffect } from \"react\";\nimport { SideMenu, ProductCollection, Carousel } from \"../../components\";\n\nimport style from './Homepage.module.css';\nimport sideImage from '../../assets/images/sider_2019_12-09.png';\nimport sideImage2 from '../../assets/images/sider_2019_02-04.png';\nimport sideImage3 from '../../assets/images/sider_2019_02-04-2.png';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from \"../../redux/hooks\";\nimport { fetchRecommendProductCreator } from \"../../redux/recommendProduct/recommendProductAction\";\nimport { useDispatch } from 'react-redux';\nimport { MainLayout } from \"../../layouts/mainLayout\";\n\nexport const Homepage: React.FC = () => {\n    const { t } = useTranslation();// i18n\n    const productList = useSelector(state => state.recommendProduct.productList);\n    const error = useSelector(state => state.recommendProduct.error);\n    const isLoading = useSelector(state => state.recommendProduct.isLoading);\n    const dispatch = useDispatch();\n\n\n    function getRecommendProduct() {\n        dispatch(fetchRecommendProductCreator());\n    }\n\n    useEffect(() => {\n        getRecommendProduct();\n        // eslint-disable-next-line\n    }, []);\n\n    \n\n    if (isLoading) {\n        return <Spin size=\"large\"\n            style={{\n                marginTop: 200,\n                marginBottom: 200,\n                marginLeft: \"auto\",\n                marginRight: \"auto\",\n                width: \"100%\",\n            }}></Spin>\n    }\n    if (error) {\n        return <div>網站出錯：{error}</div>\n    }\n\n\n    return (<>\n        <MainLayout>\n            {/* 頁面內容 */}\n            <Row>\n                <Col span={6}> <SideMenu /></Col>\n                <Col span={18}><Carousel /></Col>\n            </Row>\n            <ProductCollection title={t('home_page.hot_recommended')} sideImage={sideImage} products={productList[0].touristRoutes}></ProductCollection>\n            <ProductCollection title={t('home_page.new_arrival')} sideImage={sideImage2} products={productList[1].touristRoutes}></ProductCollection>\n            <ProductCollection title={t('home_page.domestic_travel')} sideImage={sideImage3} products={productList[2].touristRoutes}></ProductCollection>\n        </MainLayout>\n    </>)\n\n}\n","// 用户评论\nexport const commentMockData = [\n    {\n      author: \"Han Solo\",\n      avatar: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n      content: `前往码头搭乘快艇前往潜水艇平台，搭乘潜水艇潜入7米深红海，欣赏神秘美丽的红海海底世界。并有潜水员为您献上海底喂鱼的表演。含接送，中文导游陪同`,\n      createDate: \"2020-01-05\",\n    },\n    {\n      author: \"Han Solo\",\n      avatar: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n      content: `早上5点左右从酒店出发前往码头，搭乘小船前往尼罗河西岸。小船上准备有热咖啡，茶，以及小点心。搭乘热气球迎接日出，并俯瞰卢克索。途径哈布城，女王神庙，帝王谷等景点，从高空体验不一样的卢克索。落地后会举办一个小的庆祝仪式，并为客人颁发证书。之后专车送返酒店。`,\n      createDate: \"2020-02-06\",\n    },\n    {\n      author: \"Han Solo\",\n      avatar: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n      content: `行程安排仅供参考，视当天具体天气情况而定。若因天气状况而无法乘坐热气球，则原价退还！`,\n      createDate: \"2020-01-04\",\n    },\n    {\n      author: \"Han Solo\",\n      avatar: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n      content: `搭乘特殊定制的游船，在游船底部设有大型观光窗，便于欣赏奇妙的海底世界。包含接送，中文导游陪同注意：上下船时请注意安全，依次排队切勿拥挤、小心地滑。70美金/人（4人起）`,\n      createDate: \"2020-02-05\",\n    },\n  ];\n  ","\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\ninterface ProductDetailState {\n    loading: boolean;\n    error: null | string;\n    product: any\n}\n\nconst initialState: ProductDetailState = {\n    loading: true,\n    error: null,\n    product: null\n}\n\n\nexport const getProductDetail = createAsyncThunk(\n    'productdetail/getProductDetail',\n    async (touristRouteId: string, thunkAPI) => {\n        const { data } = await axios.get(`http://123.56.149.216:8089/api/touristRoutes/${touristRouteId}`);\n        return data;\n    }\n)\n\n\nexport const productDetail = createSlice({\n    name: 'productdetail',\n    initialState,\n    reducers: {},\n    extraReducers: {\n        [getProductDetail.pending.type]: (state,action) => {\n            console.log(action);\n            state.loading = true\n        },\n        [getProductDetail.fulfilled.type]: (state, action) => {\n            console.log(action);\n            state.product = action.payload;\n            state.error = null;\n            state.loading = false;\n        },\n        [getProductDetail.rejected.type]:\n            (state, action) => {\n                state.error = action.error.message\n                state.loading = false\n            }\n    }\n})","\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\ninterface ShoppingCartState {\n    loading: boolean;\n    error: null | string;\n    items: any[]\n}\n\nconst initialState: ShoppingCartState = {\n    loading: true,\n    error: null,\n    items: []\n}\n\n// read \nexport const getShoppingCart = createAsyncThunk(\n    'shoppingCart/getShoppingCart',\n    async (jwt: string, thunkAPI) => {\n        const { data } = await axios.get(`http://123.56.149.216:8089/api/shoppingCart`,\n            { headers: { Authorization: `bearer ${jwt}` } });\n        return data.shoppingCartItems;\n    }\n)\n\n// post \nexport const addShoppingCart = createAsyncThunk(\n    'shoppingCart/addShoppingCart',\n    async (parameters: { touristRouteId: string, jwt: string }, thunkAPI) => {\n        const { data } = await axios.post(`http://123.56.149.216:8089/api/shoppingCart/items`,\n            { touristRouteId: parameters.touristRouteId },\n            { headers: { Authorization: `bearer ${parameters.jwt}` } });\n        return data.shoppingCartItems;\n    }\n);\n\nexport const checkout = createAsyncThunk(\n    'shoppingCart/checkout',\n    async ( jwt: string , thunkAPI) => {\n        const { data } = await axios.post(`http://123.56.149.216:8089/api/shoppingCart/checkout`,\n            null,\n            { headers: { Authorization: `bearer ${jwt}` } });\n        return data;\n    }\n);\n\n\n//delete\nexport const clearShoppingCart = createAsyncThunk(\n    'shoppingCart/clearShoppingCart',\n    async (parameters: { jwt: string, itemIds: string[] }, thunkAPI) => {\n        return await axios.delete(`http://123.56.149.216:8089/api/shoppingCart/items/(${parameters.itemIds.join(',')})`,\n            { headers: { Authorization: `bearer ${parameters.jwt}` } });\n    }\n)\n\n\nexport const shoppingCart = createSlice({\n    name: 'shoppingCart',\n    initialState,\n    reducers: {},\n    extraReducers: {\n        // get start\n        [getShoppingCart.pending.type]: (state, action) => {\n            state.loading = true\n        },\n        [getShoppingCart.fulfilled.type]: (state, action) => {\n            state.items = action.payload;\n            state.error = null;\n            state.loading = false;\n        },\n        [getShoppingCart.rejected.type]: (state, action) => {\n            state.error = action.error.message\n            state.loading = false\n        },\n        // post start\n        [addShoppingCart.pending.type]: (state, action) => {\n            state.loading = true\n        },\n        [addShoppingCart.fulfilled.type]: (state, action) => {\n            state.items = action.payload;\n            state.error = null;\n            state.loading = false;\n        },\n        [addShoppingCart.rejected.type]: (state, action) => {\n            state.error = action.error.message\n            state.loading = false\n        },\n        // 去結帳\n        [checkout.pending.type]: (state, action) => {\n            state.loading = true\n        },\n        [checkout.fulfilled.type]: (state, action) => {\n            state.items = [];\n            state.error = null;\n            state.loading = false;\n        },\n        [checkout.rejected.type]: (state, action) => {\n            state.error = action.error.message\n            state.loading = false\n        },\n        // delete start\n        [clearShoppingCart.pending.type]: (state, action) => {\n            state.loading = true\n        },\n        [clearShoppingCart.fulfilled.type]: (state, action) => {\n            state.items = [];\n            state.error = null;\n            state.loading = false;\n        },\n        [clearShoppingCart.rejected.type]: (state, action) => {\n            state.error = action.error.message\n            state.loading = false\n        },\n    }\n})","\nimport { useEffect } from 'react';\nimport { RouteComponentProps, useParams } from 'react-router-dom';\nimport { Header, Footer, ProductIntro, ProductComments } from '../../components';\nimport { Spin, Row, Col, DatePicker, Divider, Typography, Anchor, Menu, Button } from 'antd';\nimport styles from './Detailpage.module.css';\nimport { commentMockData } from './mockup';\nimport { useSelector } from '../../redux/hooks';\nimport { getProductDetail } from '../../redux/productdetail/slice';\nimport { useDispatch } from 'react-redux';\nimport { MainLayout } from '../../layouts/mainLayout';\nimport { addShoppingCart } from '../../redux/shoppingCart/slice';\nimport { ShoppingCartOutlined } from '@ant-design/icons';\ninterface MatchParams {\n    touristRouteId: string;\n}\n\nconst { RangePicker } = DatePicker;\n\nexport const DetailPage: React.FC<RouteComponentProps<MatchParams>> = (props) => {\n    const dispatch = useDispatch();\n\n    const { touristRouteId } = useParams<MatchParams>();\n    const error = useSelector(state => state.productDetail.error);\n    const loading = useSelector(state => state.productDetail.loading);\n    const product = useSelector(state => state.productDetail.product);\n\n    const shoppingCartLoading = useSelector(s => s.shoppingCart.loading);\n    const jwt = useSelector(s=>s.user.token) as string;\n\n    useEffect(() => {\n        dispatch(getProductDetail(touristRouteId))\n    }, []);\n\n    /** fetch data 保護 */\n    if (loading) {\n        return (<Spin size=\"large\"\n            style={{\n                marginTop: 200,\n                marginBottom: 200,\n                marginLeft: \"auto\",\n                marginRight: \"auto\",\n                width: \"100%\",\n            }}></Spin>)\n    }\n    if (error) {\n        return <div>網站出錯：{error}</div>\n    }\n    /** fetch data end */\n\n    return (<>\n        <MainLayout>\n            {/* 簡介 */}\n            <div className={styles['product-intro-container']}>\n                <Row>\n                    <Col span={13}>\n                        <ProductIntro title={product.title}\n                            shortDescription={product.description}\n                            price={product.originalPrice}\n                            coupons={product.coupons}\n                            points={product.points}\n                            discount={product.price}\n                            rating={product.rating}\n                            pictures={product.touristRoutePictures.map((p: any) => p.url)}></ProductIntro>\n                    </Col>\n                    <Col span={11}>\n                        <Button\n                            style={{ marginTop: 50, marginBottom: 30, display: \"block\" }}\n                            type=\"primary\"\n                            danger\n                            loading={shoppingCartLoading}\n                            onClick={() => {\n                                dispatch(\n                                    addShoppingCart({ jwt, touristRouteId: product.id })\n                                );\n                            }}\n                        >\n                            <ShoppingCartOutlined />\n                            放入購物車\n                        </Button>\n                        <RangePicker /></Col>\n                </Row>\n            </div>\n            {/* 導航 */}\n            <Anchor>\n                <Menu mode=\"horizontal\">\n                    <Menu.Item key=\"1\">\n                        <Anchor.Link href=\"#features\" title=\"產品特色\"></Anchor.Link>\n                    </Menu.Item>\n                    <Menu.Item key=\"2\">\n                        <Anchor.Link href=\"#fees\" title=\"費用\"></Anchor.Link>\n                    </Menu.Item>\n                    <Menu.Item key=\"3\">\n                        <Anchor.Link href=\"#notes\" title=\"預訂須知\"></Anchor.Link>\n                    </Menu.Item>\n                    <Menu.Item key=\"4\">\n                        <Anchor.Link href=\"#comments\" title=\"用戶評價\"></Anchor.Link>\n                    </Menu.Item>\n                </Menu>\n            </Anchor>\n            {/* 產品特色 */}\n            <div id=\"features\" className={styles['product-intro-container']} >\n                <Divider orientation={'center'}>\n                    <Typography.Title level={3}>\n                        產品特色\n                    </Typography.Title>\n                </Divider>\n                <div dangerouslySetInnerHTML={{ __html: product.features }} style={{ margin: 50 }}></div>\n            </div>\n            {/* 產品費用 */}\n            <div id=\"fees\" className={styles['product-intro-container']}>\n                <Divider orientation={'center'}>\n                    <Typography.Title level={3}>\n                        產品費用\n                    </Typography.Title>\n                </Divider>\n                <div dangerouslySetInnerHTML={{ __html: product.fees }} style={{ margin: 50 }}></div>\n            </div>\n            {/* 產品備註 */}\n            <div id=\"notes\" className={styles['product-intro-container']}>\n                <Divider orientation={'center'}>\n                    <Typography.Title level={3}>\n                        產品備註\n                    </Typography.Title>\n                </Divider>\n                <div dangerouslySetInnerHTML={{ __html: product.notes }} style={{ margin: 50 }}></div>\n            </div>\n            {/* 評價 */}\n            <div id=\"comments\" className={styles['product-intro-container']}>\n                <Divider orientation={'center'}>\n                    <Typography.Title level={3}>\n                        用戶評價\n                    </Typography.Title>\n                </Divider>\n                <div className={styles['page-content']}>\n                    {/* 簡介 */}\n                    <div className={styles['product-intro-container']}>\n                        <Row>\n                            <Col span={13}>\n                                <ProductIntro title={product.title}\n                                    shortDescription={product.description}\n                                    price={product.originalPrice}\n                                    coupons={product.coupons}\n                                    points={product.points}\n                                    discount={product.price}\n                                    rating={product.rating}\n                                    pictures={product.touristRoutePictures.map((p: any) => p.url)}></ProductIntro>\n                            </Col>\n                            <Col span={11}><RangePicker /></Col>\n                        </Row>\n                    </div>\n                    {/* 導航 */}\n                    <Anchor>\n                        <Menu mode=\"horizontal\">\n                            <Menu.Item key=\"1\">\n                                <Anchor.Link href=\"#features\" title=\"產品特色\"></Anchor.Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"3\">\n                                <Anchor.Link href=\"#fees\" title=\"費用\"></Anchor.Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"4\">\n                                <Anchor.Link href=\"#notes\" title=\"預定須知\"></Anchor.Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"5\">\n                                <Anchor.Link href=\"#comments\" title=\"用戶評價\"></Anchor.Link>\n                            </Menu.Item>\n                        </Menu>\n                    </Anchor>\n                    {/* 產品特色 */}\n                    <div id=\"features\" className={styles['product-intro-container']} >\n                        <Divider orientation={'center'}>\n                            <Typography.Title level={3}>\n                                產品特色\n                            </Typography.Title>\n                        </Divider>\n                        <div dangerouslySetInnerHTML={{ __html: product.features }} style={{ margin: 50 }}></div>\n                    </div>\n                    {/* 產品費用 */}\n                    <div id=\"fees\" className={styles['product-intro-container']}>\n                        <Divider orientation={'center'}>\n                            <Typography.Title level={3}>\n                                產品費用\n                            </Typography.Title>\n                        </Divider>\n                        <div dangerouslySetInnerHTML={{ __html: product.fees }} style={{ margin: 50 }}></div>\n                    </div>\n                    {/* 產品備註 */}\n                    <div id=\"notes\" className={styles['product-intro-container']}>\n                        <Divider orientation={'center'}>\n                            <Typography.Title level={3}>\n                                產品備註\n                            </Typography.Title>\n                        </Divider>\n                        <div dangerouslySetInnerHTML={{ __html: product.notes }} style={{ margin: 50 }}></div>\n                    </div>\n                    {/* 評價 */}\n                    <div id=\"comments\" className={styles['product-intro-container']}>\n                        <Divider orientation={'center'}>\n                            <Typography.Title level={3}>\n                                用戶評價\n                            </Typography.Title>\n                        </Divider>\n                        <div style={{ margin: 40 }}>\n                            <ProductComments data={commentMockData}></ProductComments>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </MainLayout>\n    </>)\n}","import React from \"react\";\nimport styles from \"./UserLayout.module.css\";\nimport logo from \"../../assets/logo.svg\";\nimport { Link } from \"react-router-dom\";\nimport { CaretDownOutlined } from \"@ant-design/icons\";\nimport { Layout, Menu, Dropdown, Button } from \"antd\";\nconst { Header, Footer, Content } = Layout;\n\nexport const UserLayout: React.FC = (props) => {\n  const menu = (\n    <Menu>\n      <Menu.Item>中文</Menu.Item>\n      <Menu.Item>English</Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <Layout className={styles[\"user-layout-container\"]}>\n      <Header className={styles[\"header\"]}>\n        <div className={styles[\"lang\"]}>\n          <Dropdown overlay={menu}>\n            <Button>\n              {\" \"}\n              選擇語言 <CaretDownOutlined />\n            </Button>\n          </Dropdown>\n        </div>\n      </Header>\n      <Content className={styles[\"content\"]}>\n        <div className={styles[\"top\"]}>\n          <div className={styles[\"content-header\"]}>\n            <Link to=\"/\">\n              <img alt=\"logo\" className={styles[\"logo\"]} src={logo} />\n              <span className={styles[\"title\"]}>React 旅遊網</span>\n            </Link>\n          </div>\n          <div className={styles[\"desc\"]}>\n            歡迎加入！\n          </div>\n          {props.children}\n        </div>\n      </Content>\n      <Footer style={{ textAlign: \"center\" }}>Footer</Footer>\n    </Layout>\n  );\n};\n","import { Button, Checkbox, Form, Input } from \"antd\";\nimport React from \"react\";\nimport style from './RegisterForm.module.css';\n\nexport const RegisterForm: React.FC = () => {\n    const onFinish = (values: any) => {\n        console.log('Success:', values);\n    };\n\n    const onFinishFailed = (errorInfo: any) => {\n        console.log('Failed:', errorInfo);\n    };\n\n    return (\n        <Form\n            name=\"basic\"\n            layout={'vertical'}\n            initialValues={{ remember: true }}\n            onFinish={onFinish}\n            onFinishFailed={onFinishFailed}\n            className={style['register-form']}\n        >\n            <Form.Item\n                label=\"Username\"\n                name=\"username\"\n                rules={[{ required: true, message: 'Please input your username!' }]}\n            >\n                <Input />\n            </Form.Item>\n\n            <Form.Item\n                label=\"Password\"\n                name=\"password\"\n                rules={[{ required: true, message: 'Please input your password!' }]}\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n                label=\"Confirm Password\"\n                name=\"confirmPassword\"\n                rules={[{ required: true, message: 'Please input your password!' },\n                (({ getFieldValue }) => ({\n                    validator(role, value) {\n                        if (value || getFieldValue('password') === value) {\n                            return Promise.resolve();\n                        } else {\n                            return Promise.reject('與密碼不一致');\n                        }\n                    }\n                }))\n                ]}\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item name=\"remember\" valuePropName=\"checked\" >\n                <Checkbox>Remember me</Checkbox>\n            </Form.Item>\n\n            <Form.Item >\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Submit\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};","import { UserLayout } from \"../../layouts/userLayout\";\nimport { RegisterForm } from \"./RegisterForm\";\n\n\nexport const Register: React.FC = () => {\n    return (<>\n        <UserLayout>\n            <RegisterForm />\n        </UserLayout>\n    </>)\n}","import { Button, Checkbox, Form, Input } from \"antd\";\nimport { useSelector } from \"../../redux/hooks\";\nimport style from './SignInForm.module.css';\nimport { useDispatch } from 'react-redux';\nimport { signIn } from \"../../redux/user/slice\";\nimport { useEffect } from \"react\";\nimport { useHistory } from 'react-router-dom';\n\nexport const SignInForm: React.FC = () => {\n    const token = useSelector(s => s.user.token);\n    const loading = useSelector(s => s.user.loading);\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n\n\n\n    const onFinish = (values: any) => {\n        console.log('Success:', values);\n        // 表單合格摳登錄api\n        dispatch(signIn({ email: values.username, password: values.password }));\n        console.log('test');\n    };\n\n    const onFinishFailed = (errorInfo: any) => {\n        console.log('Failed:', errorInfo);\n    };\n\n    useEffect(() => {\n        // token變化就看有沒有拿到jwt，有值代表登錄成功\n        if (token !== null) {\n            history.push('/')\n        }\n\n    }, [token])\n\n    return (\n        <Form\n            name=\"basic\"\n            layout={'vertical'}\n            initialValues={{ remember: true }}\n            onFinish={onFinish}\n            onFinishFailed={onFinishFailed}\n            className={style['register-form']}\n        >\n            <Form.Item\n                label=\"Username\"\n                name=\"username\"\n                rules={[{ required: true, message: 'Please input your username!' }]}\n            >\n                <Input />\n            </Form.Item>\n\n            <Form.Item\n                label=\"Password\"\n                name=\"password\"\n                rules={[{ required: true, message: 'Please input your password!' }]}\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item name=\"remember\" valuePropName=\"checked\" >\n                <Checkbox>Remember me</Checkbox>\n            </Form.Item>\n\n            <Form.Item >\n                <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n                    Submit\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};","import { UserLayout } from \"../../layouts/userLayout\";\nimport { SignInForm } from \"./SignInForm\";\n\nexport const SignIn: React.FC = () => {\n    return (\n        <UserLayout>\n            <SignInForm></SignInForm>\n        </UserLayout>)\n}","\nimport { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { getProductDetail } from \"../productdetail/slice\";\n\ninterface ProductSearchState {\n    loading: boolean;\n    error: null | string;\n    product: any,\n    pagination: any\n}\n\nconst initialState: ProductSearchState = {\n    loading: true,\n    error: null,\n    product: null,\n    pagination: null\n}\n\n\n\nexport const getProductSearch = createAsyncThunk(\n    // name會放到action.type\n    'productSearch/getProductSearch',\n    async (parameters: {\n        keywords: string,\n        pageNumber: string | number, // 第幾頁\n        pageSize: string | number\n    }, thunkAPI) => {\n        let url = `http://123.56.149.216:8089/api/touristRoutes?pageSize=${parameters.pageSize}&pageNumber=${parameters.pageNumber}`\n\n        if (parameters.keywords) {\n            url += `&keyword=${parameters.keywords}`;\n        }\n        const response = await axios.get(url);\n        return {\n            // return的東西會塞進action.payload裡\n            data: response.data,\n            pagination: JSON.parse(response.headers['x-pagination'])\n        }\n    }\n)\n\nexport const productSearch = createSlice({\n    name: 'productSearch',\n    initialState,\n    reducers: {},\n    extraReducers: {\n        [getProductSearch.pending.type]: (state, action) => {\n            state.loading = true\n        },\n        [getProductSearch.fulfilled.type]: (state, action) => {\n            state.product = action.payload.data;\n            state.pagination = action.payload.pagination;\n            state.loading = false;\n            state.error = null;\n        },\n        [getProductSearch.rejected.type]: (\n            state,\n            action: PayloadAction<string | null>\n        ) => {\n            state.loading = false;\n            state.error = action.payload;\n        },\n    }\n\n});","import React, { useEffect } from \"react\";\nimport { FilterArea, ProductList } from '../../components';\nimport styles from './searchpage.module.css';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { useSelector } from '../../redux/hooks';\nimport { useDispatch } from 'react-redux';\nimport { getProductSearch } from \"../../redux/productSearch/slice\";\nimport { Spin } from \"antd\";\nimport { MainLayout } from \"../../layouts/mainLayout\";\n\ninterface MatchParams {\n    keywords: string;\n}\n\n\nexport const SearchPage: React.FC = () => {\n    const { keywords } = useParams<MatchParams>();// 拿router參數\n    const location = useLocation();// router網址\n    const dispatch = useDispatch();\n    // 拿訊息\n    const data = useSelector((state) => state.productSearch.product);\n    const loading = useSelector(state => state.productSearch.loading);\n    const error = useSelector(state => state.productSearch.error);\n    // 分頁訊息\n    const pagination = useSelector(state => state.productSearch.pagination);\n\n    const onPageChange = (pageNumber: number | string, pageSize: number | string) => {\n        dispatch(getProductSearch({ pageNumber, pageSize, keywords }))\n    }\n\n    useEffect(() => {\n        // 發送訊息\n        dispatch(getProductSearch({ pageNumber: 1, pageSize: 10, keywords }));\n    }, [location])// 監聽router變化，有搜索行為，router就會變化\n\n    /** fetch data 保護 */\n    if (loading) {\n        return (<Spin size=\"large\"\n            style={{\n                marginTop: 200,\n                marginBottom: 200,\n                marginLeft: \"auto\",\n                marginRight: \"auto\",\n                width: \"100%\",\n            }}></Spin>)\n    }\n    if (error) {\n        return <div>網站出錯：{error}</div>\n    }\n    /** fetch data end */\n    return (<>\n        <MainLayout>\n            {/* 篩選 */}\n            <div className={styles[\"product-list-container\"]}>\n                <FilterArea></FilterArea>\n            </div>\n            {/* 結果列表 */}\n            <div className={styles[\"product-list-container\"]}>\n                <ProductList data={data} paging={pagination} onPageChange={onPageChange}></ProductList>\n            </div>\n        </MainLayout>\n    </>)\n}","import React from \"react\";\nimport { Affix, Col, Row } from 'antd';\nimport styles from './ShoppingCart.module.css';\nimport { MainLayout } from '../../layouts/mainLayout';\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { PaymentCard, ProductList } from \"../../components\";\nimport { checkout, clearShoppingCart } from \"../../redux/shoppingCart/slice\";\nimport { useHistory } from \"react-router-dom\";\nexport const ShoppingCart: React.FC = () => {\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const loading = useSelector(s => s.shoppingCart.loading);\n    const shoppingCartItems = useSelector(s => s.shoppingCart.items);\n    const jwt = useSelector(s => s.user.token) as string;\n\n    return (\n        <MainLayout>\n            <Row>\n                {/* 商品列 */}\n                <Col span={16}>\n                    <div className={styles[\"product-list-container\"]}>\n                        <ProductList data={shoppingCartItems.map(item => item.touristRoute)} />\n                    </div>\n                </Col>\n                {/* 付款信息 */}\n                <Col span={8}>\n                    <Affix>\n                        <div className={styles[\"payment-card-container\"]}>\n                            <PaymentCard\n                                loading={loading}\n                                originalPrice={shoppingCartItems.map(item => item.originalPrice).reduce((a, b) => a + b, 0)}\n                                price={shoppingCartItems.map(item => item.originalPrice * (item.discountPresent ?? 1)).reduce((a, b) => a + b, 0)}\n                                onCheckout={() => { \n                                    if(shoppingCartItems.length<=0){\n                                        return\n                                    }else{\n                                        dispatch(checkout(jwt));\n                                        history.push('/placeOrder')\n                                    }\n                                }}\n                                onShoppingCartClear={() => dispatch(clearShoppingCart({ jwt, itemIds: shoppingCartItems.map(item => item.id) }))}\n                            />\n                        </div>\n                    </Affix>\n                </Col>\n            </Row>\n\n        </MainLayout>\n    )\n}","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { checkout } from \"../shoppingCart/slice\";\n\ninterface OrderState {\n    loading: boolean;\n    error: null | string;\n    currentOrder: any\n}\n\nconst initialState: OrderState = {\n    loading: false,\n    error: null,\n    currentOrder: null\n}\n\n\nexport const placeOrder = createAsyncThunk(\n    'order/placeOrder',\n    async (params: { jwt: string, orderId: string }, thunkAPI) => {\n        const { data } = await axios.post(`http://123.56.149.216:8089/api/orders/${params.orderId}/placeOrder`, null, {\n            headers: { Authorization: `bearer ${params.jwt}` }\n        });\n        return data;\n    }\n)\n\n\nexport const order = createSlice({\n    name: 'order',\n    initialState,\n    reducers: {},\n    extraReducers: {\n        [placeOrder.pending.type]: (state, action) => {\n            state.loading = true\n        },\n        // 付款成功\n        [placeOrder.fulfilled.type]: (state, action) => {\n            state.currentOrder = action.payload;\n            state.error = null;\n            state.loading = false;\n        },\n        [placeOrder.rejected.type]: (state, action) => {\n            state.error = action.error.message\n            state.loading = false\n        },\n        [checkout.pending.type]: (state, action) => {\n            state.loading = true\n        },\n        // 點選結帳，先把資料給checkoutcard\n        [checkout.fulfilled.type]: (state, action) => {\n            state.currentOrder = action.payload;\n            state.error = null;\n            state.loading = false;\n        },\n        [checkout.rejected.type]: (state, action) => {\n            state.error = action.error.message\n            state.loading = false\n        },\n    }\n})","import React from \"react\";\nimport { MainLayout } from \"../../layouts/mainLayout\";\nimport { Row, Col } from 'antd';\nimport { PaymentForm, CheckOutCard } from '../../components';\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { placeOrder } from \"../../redux/order/slice\";\n\nexport const PlaceOrder: React.FC = () => {\n    const dispatch = useDispatch();\n    const loading = useSelector(s => s.order.loading);\n    const order = useSelector(s => s.order.currentOrder);\n    const jwt = useSelector(s => s.user.token) as string;\n    console.log(order);\n    \n    return <MainLayout>\n        <Row>\n            <Col span={12}>\n                <PaymentForm></PaymentForm>\n            </Col>\n            <Col span={12}>\n                <CheckOutCard loading={loading} order={order} onCheckout={() => {\n                    dispatch(placeOrder({ jwt, orderId: order.id }))\n                }}></CheckOutCard>\n            </Col>\n        </Row>\n    </MainLayout>\n}","import React, { FunctionComponent, useEffect } from 'react';\nimport style from './App.module.css';\nimport { BrowserRouter, Route, Switch, Redirect,HashRouter } from 'react-router-dom'\nimport { DetailPage, Homepage, PlaceOrder, Register, SearchPage, SignIn } from './pages';\nimport { ShoppingCart } from './pages';\nimport { useSelector } from './redux/hooks';\nimport { useDispatch } from 'react-redux';\nimport { getShoppingCart } from './redux/shoppingCart/slice';\n\n\ninterface PropsType {\n  component: FunctionComponent;\n  Authenticated: boolean;\n  path: string;\n  [propName: string]: any;\n}\n\n// 如果有登入返回可連接route，沒有登入就redircet\nconst PrivatRoute: React.FC<PropsType> = ({ component, Authenticated, ...rest }) => {\n  const routeComponent = (props: any) => {\n    return Authenticated ? (\n      React.createElement(component, props)\n    ) : (\n      <Redirect to={{ pathname: \"/signIn\" }} />\n    );\n  }\n  return <Route render={routeComponent} {...rest}></Route>\n}\n\nfunction App() {\n  const dispatch = useDispatch();\n  const jwt = useSelector(s => s.user.token);\n\n  useEffect(() => {\n    // 確定登入，則去摳購物車清單\n    if (jwt) {\n      dispatch(getShoppingCart(jwt));\n    }\n  }, [jwt])\n\n  return (\n    <div className={style.App}>\n      <HashRouter>\n        <Switch>\n          <Route exact path='/' component={Homepage}></Route>\n          <Route path='/signIn' component={SignIn}></Route>\n          <Route path='/register' component={Register}></Route>\n          <Route path='/detail/:touristRouteId' component={DetailPage}></Route>\n          <Route path='/search/:keyword?' component={SearchPage}></Route>\n          <PrivatRoute path='/shoppingCart' component={ShoppingCart} Authenticated={jwt !== null}></PrivatRoute>\n          <PrivatRoute path='/placeOrder' component={PlaceOrder} Authenticated={jwt !== null}></PrivatRoute>\n          <Route render={() => <h1>404</h1>}></Route>\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import  i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport translation_en from './en.json';\nimport translation_zh from './zh.json';\nconst resources = {\n    en: {\n        translation: translation_en\n    },\n    zh: {\n        translation: translation_zh\n    }\n};\n\ni18n\n    .use(initReactI18next) // passes i18n down to react-i18next\n    .init({\n        resources,\n        lng: \"zh\", // language to use, more information here: https://www.i18next.com/overview/configuration-options#languages-namespaces-resources\n        // you can use the i18n.changeLanguage function to change the language manually: https://www.i18next.com/overview/api#changelanguage\n        // if you're using a language detector, do not define the lng option\n\n        interpolation: {\n            escapeValue: false // react already safes from xss\n        }\n    });\n\nexport default i18n;","\nimport i18n from 'i18next';\nimport { CHANGE_LANGUAGE } from './languageAction';\n\n\nexport interface LanguageState {\n    language: string;\n    languageList: { name: string, code: string }[];\n}\n\nconst languageState: LanguageState = {\n    language: 'zh',\n    languageList: [\n        { name: '中文', code: 'zh' },\n        { name: 'English', code: 'en' }]\n}\n\nconst languageReducer = (state = languageState, action: any) => {\n    switch (action.type) {\n        case CHANGE_LANGUAGE:\n            i18n.changeLanguage(action.payload);\n            return { ...state, language: action.payload };\n    }\n    return state;\n}\n\nexport default languageReducer;","import { FETCH_RECOMMEND_PRODUCT_FAIL, FETCH_RECOMMEND_PRODUCT_START, FETCH_RECOMMEND_PRODUCT_SUCCESS, recommendProductAction } from \"./recommendProductAction\";\n\nexport interface RecommendProductState {\n    isLoading: boolean;\n    error: string | null;\n    productList: any;\n}\n\nconst defaultState: RecommendProductState = {\n    isLoading: true,\n    error: null,\n    productList: []\n}\n\nconst recommendProductReducer = (state = defaultState, action: recommendProductAction): RecommendProductState => {\n    switch (action.type) {\n        case FETCH_RECOMMEND_PRODUCT_START:\n            return { ...state, isLoading: true }\n        case FETCH_RECOMMEND_PRODUCT_SUCCESS:\n            return { ...state, productList: action.payload, isLoading: false };\n        case FETCH_RECOMMEND_PRODUCT_FAIL:\n            return { ...state, error: action.payload, isLoading: false };\n        default:\n            return state;\n    };\n}\n\nexport default recommendProductReducer;","\nimport { Middleware } from 'redux';\nexport const actionLog: Middleware = (store) => (next) => (action) => {\n    console.log('preve state:', store.getState());\n    console.log('fire: ', action);\n    next(action);\n}","import { shoppingCart } from './shoppingCart/slice';\nimport { user } from './user/slice';\nimport languageReducer from './language/languageReducer';\nimport recommendProductReducer from './recommendProduct/recommendProductReducer';\nimport { actionLog } from './middlewares/actionlog';\nimport { combineReducers, configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport { productDetail } from './productdetail/slice';\nimport { productSearch } from './productSearch/slice';\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport { order } from './order/slice';\n\n\n// 持久化\nconst persistConfig = {\n    key: 'root',\n    storage,\n    whitelist: ['user']\n}\n\n\n// 包含全部reducer\nconst rootReducer = combineReducers({\n    language: languageReducer,\n    recommendProduct: recommendProductReducer,\n    productDetail: productDetail.reducer,\n    productSearch: productSearch.reducer,\n    user: user.reducer,\n    shoppingCart: shoppingCart.reducer,\n    order: order.reducer\n})\n\n// 轉換reducer成持久化\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\n// const store = createStore(rootReducer, applyMiddleware(thunk, actionLog));\nconst store = configureStore({\n    reducer: persistedReducer,\n    middleware: (getDefaultMiddleware) => [...getDefaultMiddleware(), actionLog]\n})\n\nconst persistor = persistStore(store);\n\n// store會有全部reducer的資料，rootState儲存所有資料類型\nexport type RootState = ReturnType<typeof store.getState>\n\nexport default { store, persistor };","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'antd/dist/antd.css';\nimport './i18n/configs'\nimport { Provider } from 'react-redux';\nimport rootStore from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={rootStore.store}>\n      <PersistGate persistor={rootStore.persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product-intro-container\":\"Detailpage_product-intro-container__Q6y-R\",\"product-detail-anchor\":\"Detailpage_product-detail-anchor__3ERFY\",\"product-detail-container\":\"Detailpage_product-detail-container__3fvc9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app-header\":\"Header_app-header__3U82T\",\"top-header\":\"Header_top-header__1Ua6u\",\"inner\":\"Header_inner__3b3NM\",\"button-group\":\"Header_button-group__1Dxrp\",\"main-header\":\"Header_main-header__OC3nw\",\"App-logo\":\"Header_App-logo__3z1ki\",\"App-logo-spin\":\"Header_App-logo-spin__2JzXp\",\"title\":\"Header_title__3_fub\",\"search-input\":\"Header_search-input__19kTQ\",\"main-menu\":\"Header_main-menu__iZfNm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user-layout-container\":\"UserLayout_user-layout-container__xmdtk\",\"header\":\"UserLayout_header__axaSS\",\"lang\":\"UserLayout_lang__vAVvz\",\"content\":\"UserLayout_content__XU14n\",\"top\":\"UserLayout_top__3_v8C\",\"content-header\":\"UserLayout_content-header__bqVqd\",\"logo\":\"UserLayout_logo__qqnAo\",\"title\":\"UserLayout_title__1zszu\",\"desc\":\"UserLayout_desc__13IvU\"};"],"sourceRoot":""}